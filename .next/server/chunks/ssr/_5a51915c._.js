module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},21374,33441,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>c],21374);let d=(0,b.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>d],33441)},87976,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987),e=a.i(38246),f=a.i(82945),g=a.i(21374),h=a.i(38784),i=a.i(33441);function j({product:a}){let[j,k]=(0,c.useState)(!1),l=(0,f.useCartStore)(a=>a.addToCart);return(0,b.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden transition-shadow duration-300 card",children:[(0,b.jsx)(e.default,{href:`/product/${a.id}`,children:(0,b.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-gray-100",children:[(0,b.jsx)(d.default,{src:a.image,alt:a.name,fill:!0,className:"object-cover hover:scale-110 transition-transform duration-300"}),!a.inStock&&(0,b.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-semibold",children:"Out of Stock"})}),(0,b.jsx)("span",{className:`absolute top-3 right-3 px-3 py-1 rounded-full text-white text-xs font-semibold ${"electronics"===a.category?"bg-black":"bg-gray-700"}`,children:"electronics"===a.category?"Electronics":"Hat"})]})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(e.default,{href:`/product/${a.id}`,children:(0,b.jsx)("h3",{className:"text-lg font-semibold text-black line-clamp-2 cursor-pointer",children:a.name})}),(0,b.jsx)("p",{className:"text-muted text-sm mt-1 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,b.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((c,d)=>(0,b.jsx)(g.Star,{size:16,className:d<Math.floor(a.rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"},d))}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:["(",a.reviews,")"]})]}),(0,b.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,b.jsxs)("span",{className:"text-2xl font-bold text-black",children:["$",a.price.toFixed(2)]}),(0,b.jsx)("button",{onClick:()=>{l(a,1),k(!0),setTimeout(()=>k(!1),2e3)},disabled:!a.inStock,className:`p-2 rounded-lg transition-all duration-300 ${j?"bg-green-500 text-white":a.inStock?"bg-black text-white hover:opacity-95":"bg-gray-100 text-muted cursor-not-allowed"}`,children:j?(0,b.jsx)(i.Check,{size:18}):(0,b.jsx)(h.ShoppingCart,{size:18})})]})]})]})}a.s(["default",()=>j])},1407,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(87976),f=a.i(70106);let g=(0,f.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),h=(0,f.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function i(){let a=(0,d.useSearchParams)(),f=a.get("category"),i=a.get("storeId"),j=a.get("search")||"",k=a.get("sort")||"",[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(j),[t,u]=(0,c.useState)(j),[v,w]=(0,c.useState)(!1),x=(0,d.useRouter)(),y=(0,d.usePathname)(),[z,A]=(0,c.useState)(k),B=parseInt(a.get("page")||"1",10)||1,[C,D]=(0,c.useState)(B),[E]=(0,c.useState)(12),[F,G]=(0,c.useState)(1),[H,I]=(0,c.useState)(0);(0,c.useEffect)(()=>{o(!0),q(null);let a=[];i&&a.push(`storeId=${encodeURIComponent(i)}`),f&&a.push(`category=${encodeURIComponent(f)}`),z&&a.push(`sort=${encodeURIComponent(z)}`),t&&a.push(`search=${encodeURIComponent(t)}`),C&&a.push(`page=${C}`),E&&a.push(`limit=${E}`);let b=a.length?`?${a.join("&")}`:"";fetch(`/api/products${b}`).then(a=>a.json()).then(a=>{Array.isArray(a)?(m(a),I(a.length),G(1)):a&&Array.isArray(a.products)?(m(a.products),I("number"==typeof a.total?a.total:a.products.length),G("number"==typeof a.totalPages?a.totalPages:1)):(m([]),I(0),G(1))}).catch(a=>q(String(a))).finally(()=>o(!1))},[i,f,C,E,z,t]),(0,c.useEffect)(()=>{let a=setTimeout(()=>{u(r)},300);return()=>clearTimeout(a)},[r]),(0,c.useEffect)(()=>{let b=new URLSearchParams(Array.from(a.entries()));t?b.set("search",t):b.delete("search"),b.set("page","1"),x.replace(`${y}?${b.toString()}`),D(1)},[t]),(0,c.useEffect)(()=>{let b=new URLSearchParams(Array.from(a.entries()));z?b.set("sort",z):b.delete("sort"),b.set("page","1"),x.replace(`${y}?${b.toString()}`),D(1)},[z]),(0,c.useEffect)(()=>{let b=a.get("page"),c=b?parseInt(b,10):1,d=Number.isFinite(c)&&c>0?c:1;d!==C&&D(d)},[a]),(0,c.useEffect)(()=>{if(1!==(parseInt(a.get("page")||"1",10)||1)){let b=new URLSearchParams(Array.from(a.entries()));b.set("page","1"),x.replace(`${y}?${b.toString()}`)}else D(1)},[f,i]);let J=(0,c.useMemo)(()=>{let a=l||[];if(r){let b=r.toLowerCase();a=a.filter(a=>a.name.toLowerCase().includes(b)||(a.description||"").toLowerCase().includes(b))}return a},[l,r]);return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-8",children:"electronics"===f?"âš¡ Electronics":"hats"===f?"ðŸŽ© Hand-Woven Hats":i?"Store Products":"All Products"}),(0,b.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h,{className:"absolute left-3 top-3 text-gray-400",size:20}),(0,b.jsx)("input",{type:"text",placeholder:"Search products...",value:r,onChange:a=>s(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("button",{onClick:()=>w(!v),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700",children:[(0,b.jsx)(g,{size:20})," More Filters"]}),(0,b.jsx)("label",{className:"text-sm text-gray-600",children:"Sort:"}),(0,b.jsxs)("select",{value:z,onChange:a=>A(a.target.value),className:"px-3 py-1 border rounded",children:[(0,b.jsx)("option",{value:"",children:"Relevance"}),(0,b.jsx)("option",{value:"newest",children:"Newest"}),(0,b.jsx)("option",{value:"price_asc",children:"Price: Low â†’ High"}),(0,b.jsx)("option",{value:"price_desc",children:"Price: High â†’ Low"}),(0,b.jsx)("option",{value:"name_asc",children:"Name A â†’ Z"}),(0,b.jsx)("option",{value:"name_desc",children:"Name Z â†’ A"})]})]})]}),n?(0,b.jsx)("div",{className:"text-center py-12",children:"Loading products..."}):p?(0,b.jsx)("div",{className:"text-center py-12 text-red-600",children:"Failed to load products"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{className:"text-gray-600 mb-6",children:["Showing ",J.length," product",1!==J.length?"s":""]}),0===J.length?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-600 text-lg",children:"No products found matching your criteria."})}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:J.map(a=>(0,b.jsx)(e.default,{product:a},a.id))}),(0,b.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",J.length," of ",H," products"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>{let b=Math.max(1,C-1),c=new URLSearchParams(Array.from(a.entries()));c.set("page",String(b)),x.push(`${y}?${c.toString()}`),D(b)},disabled:C<=1,className:"px-3 py-1 rounded border bg-white disabled:opacity-50",children:"Previous"}),(()=>{let c=Math.floor(3.5),d=Math.max(1,C-c),e=Math.min(F,C+c);e-d+1<7&&(1===d?e=Math.min(F,d+7-1):e===F&&(d=Math.max(1,e-7+1)));let f=[];function g(c,d=!1){f.push((0,b.jsx)("button",{onClick:()=>{let b=new URLSearchParams(Array.from(a.entries()));b.set("page",String(c)),x.push(`${y}?${b.toString()}`),D(c)},"aria-current":c===C?"page":void 0,className:`px-2 py-1 rounded border text-sm transition-colors ${c===C?"bg-slate-900 text-white":d?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-white hover:bg-gray-50"}`,children:c},`p-${c}`))}d>1&&(g(1,!0),d>2&&f.push((0,b.jsx)("span",{className:"px-1 text-gray-400 font-light",children:"â€¦"},"e-start")));for(let a=d;a<=e;a++)g(a,!1);return e<F&&(e<F-1&&f.push((0,b.jsx)("span",{className:"px-1 text-gray-400 font-light",children:"â€¦"},"e-end")),g(F,!0)),f})(),(0,b.jsxs)("div",{className:"text-sm",children:["Page ",C," of ",F]}),(0,b.jsx)("button",{onClick:()=>{let b=Math.min(F,C+1),c=new URLSearchParams(Array.from(a.entries()));c.set("page",String(b)),x.push(`${y}?${c.toString()}`),D(b)},disabled:C>=F,className:"px-3 py-1 rounded border bg-white disabled:opacity-50",children:"Next"})]})]})]})]})}a.s(["default",()=>i],1407)}];

//# sourceMappingURL=_5a51915c._.js.map